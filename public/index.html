<html>

<head>
  <title>Food Baby</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular.min.js"></script>
</head>

<body ng-app="foodBaby">
  <div class="container" ng-controller="HomeCtrl">
    <div class="row">
      <h1>Food Baby</h1>
    </div>
    <div class="row">
      <div class='col-lg-12' id='map' style='width: 100%; height: 80%;'></div>
    </div>
    <div class="tablewrapper col-md-6">
      <table class="table table-hover" ng-click="view(recent._id)">
        <tr>
          <th colspan="4" style="text-align:center;">Recently Added</th>
        </tr>
        <tr>
          <th>Name</th>
          <th>Date</th>
          <th>Start Time</th>
          <th>End Time</th>
        </tr>
        <tr >
          <td ng-bind="recent.name"></td>
          <td ng-bind="recent.time.start | date:'shortDate'"></td>
          <td ng-bind="recent.time.start | date:'shortTime'"></td>
          <td ng-bind="recent.time.end   | date:'shortTime'"></td>
        </tr>
        <tr>
          <td>Location</td>
          <td ng-bind-template=
            "{{recent.location.building.name}} {{recent.location.building.room}}"
            colspan="3"
            style="text-align:center;"></td>
        </tr>
        <tr>
          <td>Food Type</td>
          <td ng-bind="recent.food_type" colspan="3" style="text-align:center;"></td>
        </tr>
      </table>
    </div>
    <div class="tablewrapper col-md-6">
      <table class="table table-hover">
        <tr>
          <th colspan="4" style="text-align:center;">Upcoming Events</th>
        </tr>
        <tr>
          <th>Name</th>
          <th>Date</th>
          <th>Start Time</th>
          <th>End Time</th>
        </tr>
        <tr ng-repeat="listing in listings | limitTo: 3" ng-click="view(listing._id)">
          <td>{{listing.name}}</td>
          <td>{{listing.time.start | date:"shortDate"}}</td>
          <td>{{listing.time.start | date:"shortTime"}}</td>
          <td>{{listing.time.end   | date:"shortTime"}}</td>
        </tr>
      </table>
    </div>
  </div>
  <script src="/scripts/mapbox.js"></script>
  <script src="/scripts/app.js"></script>
</body>

</html>
